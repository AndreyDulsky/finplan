!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.finplan=e():t.finplan=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/codebase/",r(r.s=42)}([function(t,e,r){"use strict";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}r.d(e,"c",(function(){return H})),r.d(e,"a",(function(){return b})),r.d(e,"b",(function(){return c}));var i=function(){},o=function(){function t(t){this.webixJet=!0,this.webix=t,this._events=[],this._subs={},this._data={}}var e=t.prototype;return e.getRoot=function(){return this._root},e.destructor=function(){this._detachEvents(),this._destroySubs(),this._events=this._container=this.app=this._parent=this._root=null},e.setParam=function(t,e,r){if(this._data[t]!==e&&(this._data[t]=e,this._segment.update(t,e,0),r))return this.show(null)},e.getParam=function(t,e){var r=this._data[t];if(void 0!==r||!e)return r;var n=this.getParentView();return n?n.getParam(t,e):void 0},e.getUrl=function(){return this._segment.suburl()},e.getUrlString=function(){return this._segment.toString()},e.getParentView=function(){return this._parent},e.$$=function(t){if("string"==typeof t){var e=this.getRoot();return e.queryView((function(r){return(r.config.id===t||r.config.localId===t)&&r.$scope===e.$scope}),"self")}return t},e.on=function(t,e,r){var n=t.attachEvent(e,r);return this._events.push({obj:t,id:n}),n},e.contains=function(t){for(var e in this._subs){var r=this._subs[e].view;if(r===t||r.contains(t))return!0}return!1},e.getSubView=function(t){var e=this.getSubViewInfo(t);if(e)return e.subview.view},e.getSubViewInfo=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:"_top"===t?(this._subs[t]={url:"",id:null,popup:!0},this.getSubViewInfo(t)):this._parent?this._parent.getSubViewInfo(t):null},e._detachEvents=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id)},e._destroySubs=function(){for(var t in this._subs){var e=this._subs[t].view;e&&e.destructor()}this._subs={}},e._init_url_data=function(){var t=this._segment.current();this._data={},this.webix.extend(this._data,t.params,!0)},e._getDefaultSub=function(){if(this._subs.default)return this._subs.default;for(var t in this._subs){var e=this._subs[t];if(!e.branch&&e.view&&"_top"!==t){var r=e.view._getDefaultSub();if(r)return r}}},e._routed_view=function(){var t=this.getParentView();if(!t)return!0;var e=t._getDefaultSub();return!(!e&&e!==this)&&t._routed_view()},t}();function a(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),r=[],n=0;n<e.length;n++){var i=e[n],o={},a=i.indexOf(":");if(-1===a&&(a=i.indexOf("?")),-1!==a){var s=i.substr(a+1).split(/[\:\?\&]/g),u=Array.isArray(s),l=0;for(s=u?s:s[Symbol.iterator]();;){var c;if(u){if(l>=s.length)break;c=s[l++]}else{if((l=s.next()).done)break;c=l.value}var f=c.split("=");o[f[0]]=decodeURIComponent(f[1])}}r[n]={page:a>-1?i.substr(0,a):i,params:o,isNew:!0}}return r}function s(t){var e=[],r=t,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var a=o;e.push("/"+a.page);var s=u(a.params);s&&e.push("?"+s)}return e.join("")}function u(t){var e=[];for(var r in t)e.length&&e.push("&"),e.push(r+"="+encodeURIComponent(t[r]));return e.join("")}var l=function(){function t(t,e){this._next=1,this.route="string"==typeof t?{url:a(t),path:t}:t,this.index=e}var e=t.prototype;return e.current=function(){return this.route.url[this.index]},e.next=function(){return this.route.url[this.index+this._next]},e.suburl=function(){return this.route.url.slice(this.index)},e.shift=function(){return new t(this.route,this.index+this._next)},e.refresh=function(){for(var t=this.route.url,e=this.index+1;e<t.length;e++)t[e].isNew=!0},e.toString=function(){var t=s(this.suburl());return t?t.substr(1):""},e._join=function(t,e){var r=this.route.url;if(null===t)return r;var n=this.route.url;if(r=n.slice(0,this.index+(e?this._next:0)),t){r=r.concat(a(t));for(var i=0;i<r.length;i++)n[i]&&(r[i].view=n[i].view),n[i]&&r[i].page===n[i].page&&(r[i].isNew=!1)}return r},e.append=function(t){var e=this._join(t,!0);return this.route.path=s(e),this.route.url=e,this.route.path},e.show=function(t,e,r){var n=this,o=this._join(t,r);return new Promise((function(t,r){var a=s(o),u={url:o,redirect:a,confirm:Promise.resolve()},l=e?e.app:null;if(l&&!l.callEvent("app:guard",[u.redirect,e,u]))return void r(new i);u.confirm.catch((function(t){return r(t)})).then((function(){if(null!==u.redirect){if(u.redirect!==a)return l.show(u.redirect),void r(new i);n.route.path=a,n.route.url=o,t()}else r(new i)}))}))},e.size=function(t){this._next=t},e.split=function(){var e={url:this.route.url.slice(this.index+1),path:""};return e.url.length&&(e.path=s(e.url)),new t(e,0)},e.update=function(t,e,r){var n=this.route.url[this.index+(r||0)];if(!n)return this.route.url.push({page:"",params:{}}),this.update(t,e,r);""===t?n.page=e:n.params[t]=e,this.route.path=s(this.route.url)},t}(),c=function(t){function e(e,r){var n;return(n=t.call(this,e.webix)||this).app=e,n._children=[],n}n(e,t);var r=e.prototype;return r.ui=function(t,e){var r=(e=e||{}).container||t.container,n=this.app.createView(t);return this._children.push(n),n.render(r,this._segment,this),"object"!=typeof t||t instanceof o?n:n.getRoot()},r.show=function(t,e){if(e=e||{},"object"==typeof t){for(var r in t)this.setParam(r,t[r]);t=null}else{if("/"===t.substr(0,1))return this.app.show(t);if(0===t.indexOf("./")&&(t=t.substr(2)),0===t.indexOf("../")){var n=this.getParentView();return n?n.show(t.substr(3),e):this.app.show("/"+t.substr(3))}var i=this.getSubViewInfo(e.target);if(i){if(i.parent!==this)return i.parent.show(t,e);if(e.target&&"default"!==e.target)return this._renderFrameLock(e.target,i.subview,t)}else if(t)return this.app.show("/"+t)}return this._show(this._segment,t,this)},r._show=function(t,e,r){var n=this;return t.show(e,r,!0).then((function(){return n._init_url_data(),n._urlChange()})).then((function(){t.route.linkRouter&&(n.app.getRouter().set(t.route.path,{silent:!0}),n.app.callEvent("app:route",[t.route.path]))}))},r.init=function(t,e){},r.ready=function(t,e){},r.config=function(){this.app.webix.message("View:Config is not implemented")},r.urlChange=function(t,e){},r.destroy=function(){},r.destructor=function(){this.destroy(),this._destroyKids(),this._root.destructor(),t.prototype.destructor.call(this)},r.use=function(t,e){t(this.app,this,e)},r.refresh=function(){this.getUrl();return this.destroy(),this._destroyKids(),this._destroySubs(),this._detachEvents(),this._container.tagName&&this._root.destructor(),this._segment.refresh(),this._render(this._segment)},r.render=function(t,e,r){var n=this;"string"==typeof e&&(e=new l(e,0)),this._segment=e,this._parent=r,this._init_url_data();var i="string"==typeof(t=t||document.body)?this.webix.toNode(t):t;return this._container!==i?(this._container=i,this._render(e)):this._urlChange().then((function(){return n.getRoot()}))},r._render=function(t){var e=this,r=this.config();return r.then?r.then((function(r){return e._render_final(r,t)})):this._render_final(r,t)},r._render_final=function(t,e){var r,n=this,i=null,o=null,a=!1;if(this._container.tagName?o=this._container:(i=this._container).popup?(o=document.body,a=!0):o=this.webix.$$(i.id),!this.app||!o)return Promise.reject(null);var s=this._segment.current(),u={ui:{}};this.app.copyConfig(t,u.ui,this._subs),this.app.callEvent("app:render",[this,e,u]),u.ui.$scope=this,!i&&s.isNew&&s.view&&s.view.destructor();try{if(i&&!a){var l=o,c=l.getParentView();c&&"multiview"===c.name&&!u.ui.id&&(u.ui.id=l.config.id)}this._root=this.app.webix.ui(u.ui,o);var f=this._root;a&&f.setPosition&&!f.isVisible()&&f.show(),i&&(i.view&&i.view!==this&&i.view!==this.app&&i.view.destructor(),i.id=this._root.config.id,this.getParentView()||!this.app.app?i.view=this:i.view=this.app),s.isNew&&(s.view=this,s.isNew=!1),r=Promise.resolve(this._init(this._root,e)).then((function(){return n._urlChange().then((function(){return n._initUrl=null,n.ready(n._root,e.suburl())}))}))}catch(t){r=Promise.reject(t)}return r.catch((function(t){return n._initError(n,t)}))},r._init=function(t,e){return this.init(t,e.suburl())},r._urlChange=function(){var t=this;this.app.callEvent("app:urlchange",[this,this._segment]);var e=[];for(var r in this._subs){var n=this._subs[r],i=this._renderFrameLock(r,n,null);i&&e.push(i)}return Promise.all(e).then((function(){return t.urlChange(t._root,t._segment.suburl())}))},r._renderFrameLock=function(t,e,r){if(!e.lock){var n=this._renderFrame(t,e,r);n&&(e.lock=n.then((function(){return e.lock=null}),(function(){return e.lock=null})))}return e.lock},r._renderFrame=function(t,e,r){var n=this;if("default"===t){if(this._segment.next())return this._createSubView(e,this._segment.shift());e.view&&e.popup&&(e.view.destructor(),e.view=null)}if(null!==r&&(e.url=r),e.route){if(null!==r)return e.route.show(r,e.view).then((function(){return n._createSubView(e,e.route)}));if(e.branch)return}var i=e.view;if(!i&&e.url){if("string"==typeof e.url)return e.route=new l(e.url,0),this._createSubView(e,e.route);"function"!=typeof e.url||i instanceof e.url||(i=new e.url(this.app,"")),i||(i=e.url)}if(i)return i.render(e,e.route||this._segment,this)},r._initError=function(t,e){return this.app&&this.app.error("app:error:initview",[e,t]),!0},r._createSubView=function(t,e){var r=this;return this.app.createFromURL(e.current()).then((function(n){return n.render(t,e,r)}))},r._destroyKids=function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e]&&t[e].destructor&&t[e].destructor();this._children=[]},e}(o),f=function(t){function e(e,r){var n;return(n=t.call(this,e,r)||this)._ui=r.ui,n}return n(e,t),e.prototype.config=function(){return this._ui},e}(c),p=function(){function t(t,e,r){this.path="",this.app=r}var e=t.prototype;return e.set=function(t,e){this.path=t;var r=this.app;r.app.getRouter().set(r._segment.append(this.path),{silent:!0})},e.get=function(){return this.path},t}(),h=!0,d=function(t){function e(e){var r,n=(e||{}).webix||window.webix;return(r=t.call(this,n)||this).config=r.webix.extend({name:"App",version:"1.0",start:"/home"},e,!0),r.app=r.config.app,r.ready=Promise.resolve(),r._services={},r.webix.extend(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r),r.webix.EventSystem),r}n(e,t);var r=e.prototype;return r.getUrl=function(){return this._subSegment.suburl()},r.getUrlString=function(){return this._subSegment.toString()},r.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},r.setService=function(t,e){this._services[t]=e},r.destructor=function(){this.getSubView().destructor(),t.prototype.destructor.call(this)},r.copyConfig=function(t,e,r){if((t instanceof o||"function"==typeof t&&t.prototype instanceof o)&&(t={$subview:t}),void 0!==t.$subview)return this.addSubView(t,e,r);for(var n in e=e||(t instanceof Array?[]:{}),t){var i=t[n];if("function"==typeof i&&i.prototype instanceof o&&(i={$subview:i}),!i||"object"!=typeof i||i instanceof this.webix.DataCollection||i instanceof RegExp)e[n]=i;else if(i instanceof Date)e[n]=new Date(i);else{var a=this.copyConfig(i,i instanceof Array?[]:{},r);null!==a&&(e[n]=a)}}return e},r.getRouter=function(){return this.$router},r.clickHandler=function(t,e){if(t&&(e=e||t.target||t.srcElement)&&e.getAttribute){var r=e.getAttribute("trigger");if(r)return this._forView(e,(function(t){return t.app.trigger(r)})),t.cancelBubble=!0,t.preventDefault();var n=e.getAttribute("route");if(n)return this._forView(e,(function(t){return t.show(n)})),t.cancelBubble=!0,t.preventDefault()}var i=e.parentNode;i&&this.clickHandler(t,i)},r.getRoot=function(){return this.getSubView().getRoot()},r.refresh=function(){var t=this;return this._subSegment?this.getSubView().refresh().then((function(e){return t.callEvent("app:route",[t.getUrl()]),e})):Promise.resolve(null)},r.loadView=function(t){var e=this,r=this.config.views,n=null;if(""===t)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{r&&"string"==typeof(n="function"==typeof r?r(t):r[t])&&(t=n,n=null),n||(n="_blank"===t?{}:this._loadViewDynamic(t))}catch(e){n=this._loadError(t,e)}return n.then||(n=Promise.resolve(n)),n=n.then((function(t){return t.__esModule?t.default:t})).catch((function(r){return e._loadError(t,r)}))},r._forView=function(t,e){var r=this.webix.$$(t);r&&e(r.$scope)},r._loadViewDynamic=function(t){return null},r.createFromURL=function(t){var e=this;return t.isNew||!t.view?this.loadView(t.page).then((function(t){return e.createView(t,name)})):Promise.resolve(t.view)},r.createView=function(t,r){if("function"==typeof t){if(t.prototype instanceof e)return new t({app:this,name:r,router:p});if(t.prototype instanceof o)return new t(this,{name:r});t=t(this)}return t instanceof o?t:new f(this,{name:r,ui:t})},r.show=function(t){return this.render(this._container,t||this.config.start)},r.trigger=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];this.apply(t,r)},r.apply=function(t,e){this.callEvent(t,e)},r.action=function(t){return this.webix.bind((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.apply(t,r)}),this)},r.on=function(t,e){this.attachEvent(t,e)},r.use=function(t,e){t(this,null,e)},r.error=function(t,e){if(this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug)for(var r=0;r<e.length;r++)if(console.error(e[r]),e[r]instanceof Error){var n=e[r].message;0===n.indexOf("Module build failed")?(n=n.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+n+"</pre>"):(n+="<br><br>Check console for more details",this.webix.message({type:"error",text:n,expire:-1}))}},r.render=function(t,e,r){var n=this;this._container="string"==typeof t?this.webix.toNode(t):t||document.body;var i=null;!this.$router?(h&&"tagName"in this._container&&(this.webix.event(document.body,"click",(function(t){return n.clickHandler(t)})),h=!1),"string"==typeof e&&(e=new l(e,0)),this._subSegment=this._first_start(e),this._subSegment.route.linkRouter=!0):i="string"==typeof e?e:this.app?e.split().route.path||this.config.start:e.toString();var o=this.getSubView(),a=this._subSegment,s=a.show(i,o).then((function(){return n.createFromURL(a.current())})).then((function(e){return e.render(t,a)})).then((function(t){return n.$router.set(a.route.path,{silent:!0}),n.callEvent("app:route",[n.getUrl()]),t}));return this.ready=this.ready.then((function(){return s})),s},r.getSubView=function(){if(this._subSegment){var t=this._subSegment.current().view;if(t)return t}return new c(this,{})},r._first_start=function(t){var e=this;this._segment=t;if(this.$router=new this.config.router((function(t){return setTimeout((function(){e.show(t).catch((function(t){if(!(t instanceof i))throw t}))}),1)}),this.config,this),this._container===document.body&&!1!==this.config.animation){var r=this._container;this.webix.html.addCss(r,"webixappstart"),setTimeout((function(){e.webix.html.removeCss(r,"webixappstart"),e.webix.html.addCss(r,"webixapp")}),10)}if(t)this.app&&(t.current().view=this,t.next()?(t.refresh(),t=t.split()):t=new l(this.config.start,0));else{var n=this.$router.get();n||(n=this.config.start,this.$router.set(n,{silent:!0})),t=new l(n,0)}return t},r._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},r.addSubView=function(t,e,r){var n=!0!==t.$subview?t.$subview:null,i=t.name||(n?this.webix.uid():"default");return e.id=t.id||"s"+this.webix.uid(),(r[i]={id:e.id,url:n,branch:t.branch,popup:t.popup}).popup?null:e},e}(o),v=function(){function t(t,e){var r=this;this.config=e||{},this._detectPrefix(),this.cb=t,window.onpopstate=function(){return r.cb(r.get())}}var e=t.prototype;return e.set=function(t,e){var r=this;if(this.config.routes){var n=t.split("?",2);for(var i in this.config.routes)if(this.config.routes[i]===n[0]){t=i+(n.length>1?"?"+n[1]:"");break}}this.get()!==t&&window.history.pushState(null,null,this.prefix+this.sufix+t),e&&e.silent||setTimeout((function(){return r.cb(t)}),1)},e.get=function(){var t=this._getRaw().replace(this.prefix,"").replace(this.sufix,"");if(t="/"!==t&&"#"!==t?t:"",this.config.routes){var e=t.split("?",2),r=this.config.routes[e[0]];r&&(t=r+(e.length>1?"?"+e[1]:""))}return t},e._detectPrefix=function(){var t=this.config.routerPrefix;this.sufix="#"+(void 0===t?"!":t),this.prefix=document.location.href.split("#",2)[0]},e._getRaw=function(){return document.location.href},t}(),g=!1;function w(t){if(!g&&t){g=!0;var e=window;e.Promise||(e.Promise=t.promise);var r=t.version.split(".");10*r[0]+1*r[1]<53&&(t.ui.freeze=function(e){var r=e();return r&&r.then?r.then((function(e){return t.ui.$freeze=!1,t.ui.resize(),e})):(t.ui.$freeze=!1,t.ui.resize()),r});var n=t.ui.baselayout.prototype.addView,i=t.ui.baselayout.prototype.removeView,o={addView:function(t,e){var r=this;if(!this.$scope||!this.$scope.webixJet||t.queryView)return n.apply(this,arguments);var i=function(){var i=r.$scope,o={};t=i.app.copyConfig(t,{},o),n.apply(r,[t,e]);var a=function(t){i._renderFrame(t,o[t],null).then((function(){i._subs[t]=o[t]}))};for(var s in o)a(s);return{v:t.id}}();return"object"==typeof i?i.v:void 0},removeView:function(){if(i.apply(this,arguments),this.$scope&&this.$scope.webixJet){var e=this.$scope._subs;for(var r in e){var n=e[r];t.$$(n.id)||(n.view.destructor(),delete e[r])}}}};t.extend(t.ui.layout.prototype,o,!0),t.extend(t.ui.baselayout.prototype,o,!0),t.protoUI({name:"jetapp",$init:function(e){this.$app=new this.app(e);var r=t.uid().toString();for(var n in e.body={id:r},this.$ready.push((function(){this.$app.render({id:r})})),this.$app){var i=this.$app[n];"function"!=typeof i||this[n]||(this[n]=i.bind(this.$app))}}},t.ui.proxy)}}var b=function(t){function e(e){var r;return e.router=e.router||v,w((r=t.call(this,e)||this).webix),r}return n(e,t),e.prototype._loadViewDynamic=function(t){return t=t.replace(/\./g,"/"),r(23)("./"+t)},e}(d);function m(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e,r){for(var n in t)m(t,n)&&e.call(r||t,t[n],n,t)}function y(t){t="Warning: "+t,"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(t){}}var x=String.prototype.replace,k=String.prototype.split,j=function(t){var e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},P={arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:j,chinese:function(){return 0},croatian:j,french:function(t){return t>1?1:0},german:function(t){return 1!==t?1:0},russian:j,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},S={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function E(t){var e,r=(e={},_(S,(function(t,r){_(t,(function(t){e[t]=r}))})),e);return r[t]||r[k.call(t,/-/,1)[0]]||r.en}function O(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var M=/\$/g,C=/%\{(.*?)\}/g;function A(t,e,r,n){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var i=t,o=n||C,a="number"==typeof e?{smart_count:e}:e;if(null!=a.smart_count&&i){var s=k.call(i,"||||");i=(s[function(t,e){return P[E(t)](e)}(r||"en",a.smart_count)]||s[0]).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}return i=x.call(i,o,(function(t,e){return m(a,e)&&null!=a[e]?x.call(a[e],M,"$$"):t}))}function V(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var r=e.allowMissing?A:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:r,this.warn=e.warn||y,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",r=t&&t.suffix||"}";if("||||"===e||"||||"===r)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(O(e)+"(.*?)"+O(r),"g")}(e.interpolation)}V.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},V.prototype.extend=function(t,e){_(t,(function(t,r){var n=e?e+"."+r:r;"object"==typeof t?this.extend(t,n):this.phrases[n]=t}),this)},V.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:_(t,(function(t,r){var n=e?e+"."+r:r;"object"==typeof t?this.unset(t,n):delete this.phrases[n]}),this)},V.prototype.clear=function(){this.phrases={}},V.prototype.replace=function(t){this.clear(),this.extend(t)},V.prototype.t=function(t,e){var r,n,i=null==e?{}:e;if("string"==typeof this.phrases[t])r=this.phrases[t];else if("string"==typeof i._)r=i._;else if(this.onMissingKey){n=(0,this.onMissingKey)(t,i,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+t+'"'),n=t;return"string"==typeof r&&(n=A(r,i,this.currentLocale,this.tokenRegex)),n},V.prototype.has=function(t){return m(this.phrases,t)},V.transformPhrase=function(t,e,r){return A(t,e,r)};var L=V;function $(t,e,r){if(e.urls)r=e.urls[r]||r;else if(e.param){var n;(n={})[e.param]=r,r=n}t.show(r)}var D={good:"check",error:"warning",saving:"refresh fa-spin"},I={good:"Ok",error:"Error",saving:"Connecting..."};function R(t,e,r){for(var n=0;n<r.length;n++)t[r[n]]=e[n+1]?e[n+1].page:""}var N=window.webix;N&&w(N);var H={UnloadGuard:function(t,e,r){e.on(t,"app:guard",(function(t,n,o){if(n===e||n.contains(e)){var a=r();o.confirm=!1===a?Promise.reject(new i):o.confirm.then((function(){return a}))}}))},Locale:function(t,e,n){var i=(n=n||{}).storage,o=i?i.get("lang")||"en":n.lang||"en";function a(e,r,a){r.__esModule&&(r=r.default);var s={phrases:r};n.polyglot&&t.webix.extend(s,n.polyglot);var l=u.polyglot=new L(s);if(l.locale(e),u._=t.webix.bind(l.t,l),o=e,i&&i.put("lang",o),n.webix){var c=n.webix[e];c&&t.webix.i18n.setLocale(c)}return a?Promise.resolve():t.refresh()}function s(t,e){if(!1!==n.path){var i=(n.path?n.path+"/":"")+t;a(t,r(40)("./"+i),e)}}var u={getLang:function(){return o},setLang:s,setLangData:a,_:null,polyglot:null};t.setService("locale",u),s(o,!0)},Menu:function(t,e,r){var n=e.getSubViewInfo().parent,i=e.$$(r.id||r),o=!1;i.attachEvent("onchange",(function(){o||$(n,r,this.getValue())})),i.attachEvent("onafterselect",(function(){if(!o){var t=null;i.setValue?t=this.getValue():i.getSelectedId&&(t=i.getSelectedId()),$(n,r,t)}})),e.on(t,"app:route",(function(){var t="";if(r.param)t=e.getParam(r.param,!0);else{var a=n.getUrl()[1];a&&(t=a.page)}t&&(o=!0,i.setValue&&i.getValue()!==t?i.setValue(t):i.select&&i.exists(t)&&i.getSelectedId()!==t&&i.select(t),o=!1)}))},Theme:function(t,e,r){var n=(r=r||{}).storage,i=n?n.get("theme")||"flat-default":r.theme||"flat-default",o={getTheme:function(){return i},setTheme:function(e,r){for(var o=e.split("-"),a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s].getAttribute("title");u&&(u===e||u===o[0]?a[s].disabled=!1:a[s].disabled=!0)}t.webix.skin.set(o[0]),t.webix.html.removeCss(document.body,"theme-"+i),t.webix.html.addCss(document.body,"theme-"+e),i=e,n&&n.put("theme",e),r||t.refresh()}};t.setService("theme",o),o.setTheme(i,!0)},User:function(t,e,r){var n=(r=r||{}).login||"/login",i=r.logout||"/logout",o=r.afterLogin||t.config.start,a=r.afterLogout||"/login",s=r.ping||3e5,u=r.model,l=r.user,c={getUser:function(){return l},getStatus:function(t){return t?u.status().catch((function(){return null})).then((function(t){l=t})):null!==l},login:function(e,r){return u.login(e,r).then((function(e){if(l=e,!e)throw new Error("Access denied");t.callEvent("app:user:login",[l]),t.show(o)}))},logout:function(){return l=null,u.logout().then((function(e){return t.callEvent("app:user:logout",[]),e}))}};function f(t,e){t===i?(c.logout(),e.redirect=a):t===n||c.getStatus()||(e.redirect=n)}t.setService("user",c),t.attachEvent("app:guard",(function(t,e,n){return!(!r.public||!r.public(t))||(void 0===l&&(n.confirm=c.getStatus(!0).then((function(){return f(t,n)}))),f(t,n))})),s&&setInterval((function(){return c.getStatus(!0)}),s)},Status:function(t,e,r){var n="good",i=0,o=!1,a=r.expire;a||!1===a||(a=2e3);var s=r.texts||I,u=r.icons||D;function l(t){var i=e.$$(r.target);i&&(t||(t="<div class='status_"+n+"'><span class='webix_icon fa-"+u[n]+"'></span> "+s[n]+"</div>"),i.setHTML(t))}function c(){i--,d("good")}function f(t){i--,d("error",t)}function p(t){i++,d("saving"),t&&t.then&&t.then(c,f)}function h(){0===i&&l(" ")}function d(e,r){i<0&&(i=0),"saving"===e?(n="saving",l()):(o="error"===e,0===i&&(n=o?"error":"good",o?t.error("app:error:server",[r.responseText||r]):a&&setTimeout(h,a),l()))}function v(r){var n=t.webix.dp(r);n&&(e.on(n,"onAfterDataSend",p),e.on(n,"onAfterSaveError",(function(t,e,r){return f(r)})),e.on(n,"onAfterSave",c))}"string"==typeof r&&(r={target:r}),t.setService("status",{getStatus:function(){return n},setStatus:d,track:v}),r.remote&&e.on(t.webix,"onRemoteCall",p),r.ajax&&e.on(t.webix,"onBeforeAjax",(function(t,e,r,n,i,o,a){p(a)})),r.data&&v(r.data)},UrlParam:function(t,e,r){var n=r.route||r,i={};e.on(t,"app:urlchange",(function(t,r){e===t&&(R(i,r.suburl(),n),r.size(n.length+1))}));var o=e.setParam,a=e.getParam;e.setParam=function(t,r,a){var s=n.indexOf(t);return s>=0?(i[t]=r,this._segment.update("",r,s+1),a?e.show(null):void 0):o.call(this,t,r,a)},e.getParam=function(t,e){var r=i[t];return void 0!==r?r:a.call(this,t,e)},R(i,e.getUrl(),n)}},T=window;T.Promise||(T.Promise=T.webix.promise)},function(t,e,r){"use strict";e.__esModule=!0,e.extend=s,e.indexOf=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!o.test(t))return t;return t.replace(i,a)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=s({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,o=/[&<>"'`=]/;function a(t){return n[t]}function s(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var u=Object.prototype.toString;e.toString=u;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===u.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===u.call(t)};e.isArray=c},function(t,e,r){"use strict";e.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function i(t,e){var r=e&&e.loc,o=void 0,a=void 0,s=void 0,u=void 0;r&&(o=r.start.line,a=r.end.line,s=r.start.column,u=r.end.column,t+=" - "+o+":"+s);for(var l=Error.prototype.constructor.call(this,t),c=0;c<n.length;c++)this[n[c]]=l[n[c]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{r&&(this.lineNumber=o,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=s,this.endColumn=u))}catch(t){}}i.prototype=new Error,e.default=i,t.exports=e.default},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return f}));var n=r(0),i=r(4),o='http://admin.startsellshop.local/api/accounting/contragents?expand=parts&page=1&start=0&per-page=15&auth_token=7110eda4d09e062aa5e4a390b0a572ac0d2c02206&sort=%5B%7B"property"%3A"name"%2C"direction"%3A"ASC"%7D%5D',a=new webix.DataCollection({url:o,data:webix.ajax(o).then((function(t){return t.json().items})),scheme:{$init:function(t){t.value=t.name}}}),s='http://admin.startsellshop.local/api/accounting/projects?expand=parts&page=1&start=0&per-page=15&auth_token=7110eda4d09e062aa5e4a390b0a572ac0d2c02206&sort=%5B%7B"property"%3A"name"%2C"direction"%3A"ASC"%7D%5D',u=new webix.DataCollection({url:s,data:webix.ajax(s).then((function(t){return t.json().items})),scheme:{$init:function(t){t.value=t.name}}}),l='http://admin.startsellshop.local/api/accounting/categories?expand=parts&page=1&start=0&per-page=15&auth_token=7110eda4d09e062aa5e4a390b0a572ac0d2c02206&sort=%5B%7B"property"%3A"name"%2C"direction"%3A"ASC"%7D%5D',c=new webix.DataCollection({url:l,data:webix.ajax(l).then((function(t){return t.json().items})),scheme:{$init:function(t){t.value=t.name}}});var f=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.config=function(){var t=this;return{view:"window",modal:!0,width:500,height:850,headHeight:88,point:!0,css:{background:"#ccc !important"},position:function(t){t.left=187,t.top=33,t.height+=100},close:!0,body:{view:"form",localId:"my_form",margin:40,elements:[{margin:10,rows:[{view:"template",type:"section",template:"Поступление"},{cols:[{label:"Дата оплаты",value:"2020-03-15 13:26:19",view:"datepicker",labelWidth:100,name:"date_operation"},{name:"is_committed",view:"checkbox",width:40},{label:"Подтвердить оплату",view:"label"}]},{label:"Счет",name:"account_id",value:"",options:i.a,view:"combo",height:38,labelWidth:100,required:!0},{height:38,cols:[{name:"value",label:"Сумма",view:"text",height:0,labelWidth:100,value:0,format:"1 111.00",validate:webix.rules.isNumber,invalidMessage:"Login can not be empty"},{label:"UAH (Украинская гривна)",view:"label",height:36}]},{label:"Контрагент",name:"contragent_id",value:"1",options:a,view:"combo",height:38,labelWidth:100},{label:"Статья",name:"category_id",value:"1",options:c,view:"combo",height:38,labelWidth:100},{label:"Проект",name:"project_id",value:"1",options:u,view:"combo",height:38,labelWidth:100},{name:"comment",label:"Назначение платежа",view:"text",height:52,labelWidth:100}]},{margin:10,cols:[{view:"template",template:" ",role:"placeholder",borderless:!0},{view:"button",label:"Отмена",css:"webix_transparent",align:"right",width:120},{view:"button",css:"webix_primary",label:"Сохранить",align:"right",width:120,click:function(){return t.doClickSave()}}]}]}}},o.showWindow=function(){this.getRoot().show()},o.doClickSave=function(){if(this.$$("my_form").validate()){var t=this.$$("my_form").getValues(),e=webix.Date.dateToStr("%Y-%m-%d");t.date_operation=e(t.date_operation),console.log(t.date_operation),console.log(JSON.stringify(t)),t=JSON.stringify(t);webix.ajax().headers({"Content-type":"application/json"}).post("http://api.localhost:8080/api/accounting/transaction?auth_token=7110eda4d09e062aa5e4a390b0a572ac0d2c02206",t,(function(t,e,r){e.json().success?webix.message("Success"):webix.message("Error")}))}},n}(n.b)},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n='http://admin.startsellshop.local/api/accounting/accounts?expand=parts&page=1&start=0&per-page=15&auth_token=7110eda4d09e062aa5e4a390b0a572ac0d2c02206&sort=%5B%7B"property"%3A"id"%2C"direction"%3A"DESC"%7D%5D',i=new webix.DataCollection({url:n,data:webix.ajax(n).then((function(t){return t.json().items})),scheme:{$init:function(t){t.value=t.name}}})},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return a}));var n=r(0),i=r(3),o=r(4);var a=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=n.prototype;return a.config=function(){var t=this;return{type:"wide",cols:[{view:"form",autoheight:!1,width:260,rows:[{label:"Тип",view:"label",height:20},{cols:[{view:"checkbox",height:25,borderless:1,css:"small",width:33,value:!0},{label:"Поступление",view:"label",height:32}]},{cols:[{view:"checkbox",height:25,width:33,value:!0},{label:"Выплата",view:"label",height:32}]},{cols:[{view:"checkbox",height:25,width:33,value:!0},{label:"Перемещение",view:"label",height:32}]},{label:"Дата оплаты",view:"label",height:20},{cols:[{view:"checkbox",height:25,width:33,value:!0},{label:"Подтверждена",view:"label",height:32,width:0}]},{cols:[{view:"checkbox",height:25,width:33,value:!0},{label:"Не подтверждена",view:"label",height:32,value:"Не подтвержена"}]},{value:"2020-03-14 18:32:57",view:"datepicker",height:32},{label:"Счет и Юр.лицо",view:"label",height:20},{id:"account_combo",value:"1",options:{data:o.a},view:"combo",height:32},{label:"Контрагент",view:"label",height:20},{value:"1",options:[],view:"combo",height:32},{label:"Статья",view:"label",height:20},{value:"1",options:[],view:"combo",height:32},{label:"Проект",view:"label",height:20},{value:"1",options:[],view:"combo",height:32},{label:"Сумма",view:"label",height:20},{cols:[{view:"text",height:32,placeholder:"от"},{label:"-",view:"label",width:25},{view:"text",height:32,placeholder:"до"}]}]},{rows:[{css:"",view:"toolbar",height:36,cols:[{view:"label",label:"Операции",width:100},{label:"+ Добавить",view:"button",height:30,width:100,click:function(){return t.doAddClick()}},{view:"template"},{label:"Поиск",view:"search",height:30,width:300}]},{$subview:"transaction.cashes"}]}]}},a.init=function(t){console.log(o.a),this.cashEdit=this.ui(i.default)},a.doAddClick=function(){this.cashEdit.showWindow()},n}(n.b)},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=new webix.DataCollection({data:[{id:1,title:"The Shawshank Redemption",year:1994,votes:678790,rating:9.2,rank:1},{id:2,title:"The Godfather",year:1972,votes:511495,rating:9.2,rank:2},{id:3,title:"The Godfather: Part II",year:1974,votes:319352,rating:9,rank:3},{id:4,title:"The Good, the Bad and the Ugly",year:1966,votes:213030,rating:8.9,rank:4},{id:5,title:"My Fair Lady",year:1964,votes:533848,rating:8.9,rank:5},{id:6,title:"12 Angry Men",year:1957,votes:164558,rating:8.9,rank:6}]})},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return o}));var n=r(0),i=r(6);var o=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.config=function(){return{view:"datatable",autoConfig:!0}},o.init=function(t){t.parse(i.a)},n}(n.b)},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return s}));var n=r(0),i=r(6),o=r(22),a=r.n(o);var s=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.config=function(){return{template:a.a}},o.init=function(t){t.setValues({record:i.a.serialize()})},n}(n.b)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=c;var i=r(1),o=n(r(2)),a=r(10),s=r(33),u=n(r(12)),l=r(13);e.VERSION="4.7.3";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function c(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}c.prototype={constructor:c,logger:u.default,log:u.default.log,registerHelper:function(t,e){if("[object Object]"===i.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===i.toString.call(t))i.extend(this.partials,t);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===i.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple decorators");i.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){l.resetLoggedProperties()}};var f=u.default.log;e.log=f,e.createFrame=i.createFrame,e.logger=u.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){i.default(t),o.default(t),a.default(t),s.default(t),u.default(t),l.default(t),c.default(t)},e.moveHelperToHooks=function(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])};var i=n(r(26)),o=n(r(27)),a=n(r(28)),s=n(r(29)),u=n(r(30)),l=n(r(31)),c=n(r(32))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0;var n=r(1),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console[e].apply(console,n)}}};e.default=i,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:n.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:n.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,r){return a("function"==typeof t?e.methods:e.properties,r)},e.resetLoggedProperties=function(){Object.keys(o).forEach((function(t){delete o[t]}))};var n=r(35),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(12)),o=Object.create(null);function a(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==o[t]&&(o[t]=!0,i.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.config=function(){var t=this;return{view:"window",position:"center",head:{type:"header",template:"Login",css:"webix_dark"},body:{view:"form",localId:"form",width:400,rows:[{view:"text",name:"login",label:"User Name",labelPosition:"top"},{view:"text",type:"password",name:"pass",label:"Password",labelPosition:"top"},{view:"button",value:"Login",click:function(){return t.Login()},hotkey:"enter"}],rules:{login:webix.rules.isNotEmpty,pass:webix.rules.isNotEmpty}}}},i.init=function(t){this.getRoot().show()},i.Login=function(){var t=this.app.getService("user"),e=this.getRoot().queryView({view:"form"});if(e.validate()){var r=e.getValues();t.login(r.login,r.pass).catch((function(){webix.html.removeCss(e.$view,"invalid_login"),e.elements.pass.focus(),webix.delay((function(){webix.html.addCss(e.$view,"invalid_login")}))}))}},n}(r(0).b)},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.config=function(){var t=this,e=this.app.getService("locale");return{type:"clean",rows:[{type:"header",template:"Settings"},{type:"form",rows:[{view:"segmented",localId:"lang",label:(0,e._)("AppsLanguage"),labelWidth:200,options:[{id:"en",value:"English"},{id:"de",value:"Deutsche"},{id:"ru",value:"Русский"}],optionWidth:100,click:function(){var r=t.$$("lang").getValue();e.setLang(r)},value:e.getLang()}]},{template:"Place app's seetings here"}]}},n}(r(0).b)},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.config=function(){return{rows:[{type:"header",template:"Dashboard"},{template:"Place main app's stats here",borderless:!0}]}},n}(r(0).b)},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return i}));var n=r(0);var i=function(t){var e,r;function i(){return t.apply(this,arguments)||this}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.config=function(){var t=this,e=this.app.getService("locale")._,r={view:"button",label:"Выход",width:120,click:function(){return t.show("/logout")}};return{rows:[{view:"toolbar",css:"webix_dark",padding:{left:8},elements:[{view:"label",label:this.app.config.name},r]},{type:"space",cols:[{view:"sidebar",id:"top:menu",width:180,layout:"y",select:!0,template:"<span  class='webix_icon #icon#'></span> #value# ",data:[{value:e("Показатели"),id:"start",icon:"wxi-plus-square"},{value:e("Операции"),id:"transaction",icon:"wxi-columns"},{value:e("Настройки"),id:"settings",icon:"wxi-pencil"},{value:"Инфо",id:"info",icon:"wxi-pencil"}]},{$subview:!0}]}]}},o.init=function(){this.use(n.c.Menu,"top:menu")},i}(n.b)},function(t,e,r){"use strict";r.r(e),e.default={AppsLanguage:"Anwendungssprache"}},function(t,e,r){"use strict";r.r(e),e.default={AppsLanguage:"Application's language"}},function(t,e,r){"use strict";r.r(e),e.default={AppsLanguage:"Язык"}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return s}));var n=r(0),i='http://admin.startsellshop.local/api/accounting/transactions?expand=parts&page=1&start=0&per-page=15&auth_token=7110eda4d09e062aa5e4a390b0a572ac0d2c02206&sort=%5B%7B"property"%3A"id"%2C"direction"%3A"DESC"%7D%5D',o=new webix.DataCollection({url:i,data:webix.ajax(i).then((function(t){return console.log(t.json()),t.json().items})),scheme:{$init:function(t){t.account=t.parts[0].account.name,t.contragent=t.parts[0].contragent.name,t.category=t.parts[0].category.name,t.parts[0].project&&(t.project=t.parts[0].project.name)}}}),a=r(3);var s=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.config=function(){var t=this;this.app.getService("locale")._;return{view:"datatable",autoConfig:!0,css:"webix_header_border",autoWidth:!0,scrollX:!1,scheme:{$init:function(t){t.index=this.count()}},tooltip:!0,select:"row",columns:[{id:"date_operation",header:"Дата",css:"rank",tooltip:"Примечание: #PREVIEW_TEXT#<br>Статус: #PROPERTY_505[5542021]#",format:webix.i18n.longDateFormatStr},{id:"account",header:"Счет",adjust:!0},{id:"type_operation",header:"Тип",sort:"string",adjust:"header",tooltip:function(t){return 1==t.type_operation?"Bought":"Sold"},template:function(t){console.log();var e=1==t.type_operation?"+":"-";return'<span class="webix_icon mdi mdi-arrow-'+e+'">'+e+"</span>"}},{id:"contragent",header:"Контрагент",adjust:!0},{id:"category",map:"#category# #comment#",header:"Статья",adjust:!0},{id:"project",header:"Проект",fillspace:!0,adjust:!0},{id:"value",header:"Сумма",adjust:!0},{id:"action",header:"",adjust:!0}],ready:function(){this.sort([{by:"ID",dir:"desc"}]),this.markSorting("ID","desc")},on:{onAfterSelect:function(e){return t.app.callEvent("record:select",[e])}},onClick:{webix_column:function(e,r){return t.cashEdit.showWindow(),!1}}}},i.init=function(t){t.sync(o),this.cashEdit=this.ui(a.default)},n}(n.b)},function(t,e,r){var n=r(24);t.exports=(n.default||n).template({1:function(t,e,r,n,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.escapeExpression,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<li>"+u("function"==typeof(o=null!=(o=l(r,"title")||(null!=e?l(e,"title"):e))?o:s)?o.call(a,{name:"title",hash:{},data:i,loc:{start:{line:7,column:4},end:{line:7,column:13}}}):o)+", "+u("function"==typeof(o=null!=(o=l(r,"year")||(null!=e?l(e,"year"):e))?o:s)?o.call(a,{name:"year",hash:{},data:i,loc:{start:{line:7,column:15},end:{line:7,column:23}}}):o)+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,r,n,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"You can use handlebar templates for a plain HTML content \n\nhttps://handlebarsjs.com\n\n<h3>Records</h3>\n"+(null!=(o=a(r,"each").call(null!=e?e:t.nullContext||{},null!=e?a(e,"record"):e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:6,column:0},end:{line:8,column:9}}}))?o:"")},useData:!0})},function(t,e,r){var n={"./data":7,"./data.js":7,"./info":8,"./info.js":8,"./login":14,"./login.js":14,"./settings":15,"./settings.js":15,"./start":16,"./start.js":16,"./top":17,"./top.js":17,"./transaction":5,"./transaction/":5,"./transaction/cashEdit":3,"./transaction/cashEdit.js":3,"./transaction/cashes":21,"./transaction/cashes.js":21,"./transaction/index":5,"./transaction/index.js":5};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=23},function(t,e,r){t.exports=r(25).default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}e.__esModule=!0;var o=i(r(9)),a=n(r(36)),s=n(r(2)),u=i(r(1)),l=i(r(37)),c=n(r(39));function f(){var t=new o.HandlebarsEnvironment;return u.extend(t,o),t.SafeString=a.default,t.Exception=s.default,t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=l,t.template=function(e){return l.template(e,t)},t}var p=f();p.create=f,c.default(p),p.default=p,e.default=p,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n=r(1);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,r){var i=r.inverse,o=r.fn;if(!0===e)return o(this);if(!1===e||null==e)return i(this);if(n.isArray(e))return e.length>0?(r.ids&&(r.ids=[r.name]),t.helpers.each(e,r)):i(this);if(r.data&&r.ids){var a=n.createFrame(r.data);a.contextPath=n.appendContextPath(r.data.contextPath,r.name),r={data:a}}return o(e,r)}))},t.exports=e.default},function(t,e,r){"use strict";(function(n){e.__esModule=!0;var i,o=r(1),a=r(2),s=(i=a)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new s.default("Must pass iterator to #each");var r,i=e.fn,a=e.inverse,u=0,l="",c=void 0,f=void 0;function p(e,r,n){c&&(c.key=e,c.index=r,c.first=0===r,c.last=!!n,f&&(c.contextPath=f+e)),l+=i(t[e],{data:c,blockParams:o.blockParams([t[e],e],[f+e,null])})}if(e.data&&e.ids&&(f=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(c=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var h=t.length;u<h;u++)u in t&&p(u,u,u===t.length-1);else if(n.Symbol&&t[n.Symbol.iterator]){for(var d=[],v=t[n.Symbol.iterator](),g=v.next();!g.done;g=v.next())d.push(g.value);for(h=(t=d).length;u<h;u++)p(u,u,u===t.length-1)}else r=void 0,Object.keys(t).forEach((function(t){void 0!==r&&p(r,u-1),r=t,u++})),void 0!==r&&p(r,u-1,!0);return 0===u&&(l=a(this)),l}))},t.exports=e.default}).call(this,r(11))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(2),o=(n=i)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(1),o=r(2),a=(n=o)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,r){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:r.inverse,inverse:r.fn,hash:r.hash})}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var i=1;null!=r.hash.level?i=r.hash.level:r.data&&null!=r.data.level&&(i=r.data.level),e[0]=i,t.log.apply(t,e)}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,r){return t?r.lookupProperty(t,e):t}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(1),o=r(2),a=(n=o)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");i.isFunction(t)&&(t=t.call(this));var r=e.fn;if(i.isEmpty(t))return e.inverse(this);var n=e.data;return e.data&&e.ids&&((n=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),r(t,{data:n,blockParams:i.blockParams([t],[n&&n.contextPath])})}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){o.default(t)};var n,i=r(34),o=(n=i)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(1);e.default=function(t){t.registerDecorator("inline",(function(t,e,r,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var a=r.partials;r.partials=n.extend({},a,e.partials);var s=t(i,o);return r.partials=a,s}),e.partials[i.args[0]]=i.fn,o}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.extend.apply(void 0,[Object.create(null)].concat(e))};var n=r(1)},function(t,e,r){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,r=s.COMPILER_REVISION;if(e>=s.LAST_COMPATIBLE_COMPILER_REVISION&&e<=s.COMPILER_REVISION)return;if(e<s.LAST_COMPATIBLE_COMPILER_REVISION){var n=s.REVISION_CHANGES[r],i=s.REVISION_CHANGES[e];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new a.default("No environment passed to template");if(!t||!t.main)throw new a.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r=t.compiler&&7===t.compiler[0];var n={strict:function(t,e,r){if(!(t&&e in t))throw new a.default('"'+e+'" not defined in '+t,{loc:r});return t[e]},lookupProperty:function(t,e){var r=t[e];return null==r||Object.prototype.hasOwnProperty.call(t,e)||c.resultIsAllowed(r,n.protoAccessControl,e)?r:void 0},lookup:function(t,e){for(var r=t.length,i=0;i<r;i++){if(null!=(t[i]&&n.lookupProperty(t[i],e)))return t[i][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:i.escapeExpression,invokePartial:function(r,n,o){o.hash&&(n=i.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),r=e.VM.resolvePartial.call(this,r,n,o);var s=i.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=e.VM.invokePartial.call(this,r,n,s);if(null==u&&e.compile&&(o.partials[o.name]=e.compile(r,t.compilerOptions,e),u=o.partials[o.name](n,s)),null!=u){if(o.indent){for(var l=u.split("\n"),c=0,f=l.length;c<f&&(l[c]||c+1!==f);c++)l[c]=o.indent+l[c];u=l.join("\n")}return u}throw new a.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var r=t[e];return r.decorator=t[e+"_d"],r},programs:[],program:function(t,e,r,n,i){var o=this.programs[t],a=this.fn(t);return e||i||n||r?o=f(this,t,a,e,r,n,i):o||(o=this.programs[t]=f(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var r=t||e;return t&&e&&t!==e&&(r=i.extend({},e,t)),r},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function o(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r.data;o._setup(r),!r.partial&&t.useData&&(i=h(e,i));var a=void 0,s=t.useBlockParams?[]:void 0;function u(e){return""+t.main(n,e,n.helpers,n.partials,i,s,a)}return t.useDepths&&(a=r.depths?e!=r.depths[0]?[e].concat(r.depths):r.depths:[e]),(u=d(t.main,u,n,r.depths||[],i,s))(e,r)}return o.isTop=!0,o._setup=function(o){if(o.partial)n.protoAccessControl=o.protoAccessControl,n.helpers=o.helpers,n.partials=o.partials,n.decorators=o.decorators,n.hooks=o.hooks;else{var a=i.extend({},e.helpers,o.helpers);!function(t,e){Object.keys(t).forEach((function(r){var n=t[r];t[r]=function(t,e){var r=e.lookupProperty;return l.wrapHelper(t,(function(t){return i.extend({lookupProperty:r},t)}))}(n,e)}))}(a,n),n.helpers=a,t.usePartial&&(n.partials=n.mergeIfNeeded(o.partials,e.partials)),(t.usePartial||t.useDecorators)&&(n.decorators=i.extend({},e.decorators,o.decorators)),n.hooks={},n.protoAccessControl=c.createProtoAccessControl(o);var s=o.allowCallsToHelperMissing||r;u.moveHelperToHooks(n,"helperMissing",s),u.moveHelperToHooks(n,"blockHelperMissing",s)}},o._child=function(e,r,i,o){if(t.useBlockParams&&!i)throw new a.default("must pass block params");if(t.useDepths&&!o)throw new a.default("must pass parent depths");return f(n,e,t[e],r,0,i,o)},o},e.wrapProgram=f,e.resolvePartial=function(t,e,r){t?t.call||r.name||(r.name=t,t=r.partials[t]):t="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name];return t},e.invokePartial=function(t,e,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var o=void 0;r.fn&&r.fn!==p&&function(){r.data=s.createFrame(r.data);var t=r.fn;o=r.data["partial-block"]=function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return r.data=s.createFrame(r.data),r.data["partial-block"]=n,t(e,r)},t.partials&&(r.partials=i.extend({},r.partials,t.partials))}();void 0===t&&o&&(t=o);if(void 0===t)throw new a.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)},e.noop=p;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(2),a=(n=o)&&n.__esModule?n:{default:n},s=r(9),u=r(10),l=r(38),c=r(13);function f(t,e,r,n,i,o,a){function s(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(s=[e].concat(a)),r(t,e,t.helpers,t.partials,i.data||n,o&&[i.blockParams].concat(o),s)}return(s=d(r,s,t,a,n,o)).program=e,s.depth=a?a.length:0,s.blockParams=i||0,s}function p(){return""}function h(t,e){return e&&"root"in e||((e=e?s.createFrame(e):{}).root=t),e}function d(t,e,r,n,o,a){if(t.decorator){var s={};e=t.decorator(e,s,r,n&&n[0],o,a,n),i.extend(e,s)}return e}},function(t,e,r){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){if("function"!=typeof t)return t;return function(){var r=arguments[arguments.length-1];return arguments[arguments.length-1]=e(r),t.apply(this,arguments)}}},function(t,e,r){"use strict";(function(r){e.__esModule=!0,e.default=function(t){var e=void 0!==r?r:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e.default}).call(this,r(11))},function(t,e,r){var n={"./de":18,"./de.js":18,"./en":19,"./en.js":19,"./ru":20,"./ru.js":20};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=40},function(t,e,r){},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return a})),r.d(e,"App",(function(){return a}));var n={status:function(){return new webix.promise((function(t){t(webix.storage.local.get("wjet_user"))}))},login:function(t,e){return new webix.promise((function(r,n){webix.ajax().post("http://admin.startsellshop.local/api/users/login",{username:t,password:e},(function(t,e,n){e.json().success?(webix.storage.local.put("wjet_user",{user:"admin"}),r({user:"admin"})):r(null)}))}))},logout:function(){return new webix.promise((function(t,e){webix.storage.local.remove("wjet_user"),t(null)}))}},i=r(0);r(41);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var a=function(t){var e,r;function a(e){var r;return(r=t.call(this,o({},{id:"finplan",version:"1.0.0",debug:!1,start:"/top/start"},{},e))||this).use(i.c.User,{model:n}),r.use(i.c.Locale,{lang:"ru",webix:{ru:"ru-RU",en:"en-EN"},storage:webix.storage.prefix(r.config.id,webix.storage.local)}),r}return r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,a}(i.a)}])}));